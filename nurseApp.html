<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HAVEN - Healthcare Platform</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; background-color: #f9fafb; color: #1f2937; }
        /* ...full CSS from your file... */
    </style>
</head>
<body>
    <div id="app"></div>
    <script>
        const state = {
            currentUser: null,
            activeTab: 'dashboard',
            showMFA: false,
            mfaCode: '',
            showPassword: false,
            loginData: { username: '', password: '' },
            auditLog: [],
            notes: [
                { id: 1, author: 'Nurse_Monica', content: 'Morning rounds completed. All patients stable.', timestamp: '2025-11-13 09:30 AM' }
            ],
            newNote: { content: '' },
            capturedPhoto: null,
            cameraActive: false,
            isRecording: false,
            voiceNotes: [],
            signature: null,
            isDrawing: false,
            mileageEnabled: false,
            mileageTrips: [
                { id: 1, patient: 'John Doe', startAddress: 'Office', endAddress: '123 Main St', miles: 2.3, duration: '8 mins', purpose: 'Wound Care' }
            ],
            patients: [
                { id: 1, name: 'John Doe', dob: '1945-03-15', age: 80, allergies: 'Penicillin', conditions: 'Hypertension, Diabetes Type 2', lastVisit: '2025-11-10' },
                { id: 2, name: 'Jane Smith', dob: '1952-07-22', age: 73, allergies: 'None', conditions: 'Arthritis, COPD', lastVisit: '2025-11-09' },
                { id: 3, name: 'Bob Johnson', dob: '1938-12-05', age: 86, allergies: 'Sulfa drugs', conditions: 'Heart Disease, High Cholesterol', lastVisit: '2025-11-08' }
            ],
            newPatient: { name: '', dob: '', allergies: '', conditions: '' },
            showAddPatient: false,
            medications: [
                { id: 1, patient: 'John Doe', drug: 'Lisinopril', dosage: '10mg', frequency: 'Once daily', lastGiven: '8:00 AM', nextDue: '8:00 AM Tomorrow', status: 'on-time' },
                { id: 2, patient: 'Jane Smith', drug: 'Metformin', dosage: '500mg', frequency: 'Twice daily', lastGiven: '12:00 PM', nextDue: '6:00 PM Today', status: 'due-soon' },
                { id: 3, patient: 'Bob Johnson', drug: 'Atorvastatin', dosage: '20mg', frequency: 'Once daily', lastGiven: 'Yesterday 9:00 PM', nextDue: 'OVERDUE', status: 'overdue' }
            ],
            newMedication: { patient: '', drug: '', dosage: '', frequency: '' },
            showAddMedication: false,
            appointments: [
                { id: 1, patient: 'John Doe', date: '2025-11-12', time: '10:00 AM', type: 'Wound Care', address: '123 Main St' },
                { id: 2, patient: 'Jane Smith', date: '2025-11-12', time: '3:00 PM', type: 'Medication Review', address: '456 Oak Ave' },
                { id: 3, patient: 'Bob Johnson', date: '2025-11-13', time: '9:00 AM', type: 'Vital Signs Check', address: '789 Pine Rd' }
            ],
            messages: [
                { id: 1, from: 'Dr. Sarah Chen', to: 'You', message: 'Please check on John Doe blood pressure today', time: '9:30 AM', read: false },
                { id: 2, from: 'You', to: 'Jane Smith Family', message: 'Medication reminder sent', time: '8:15 AM', read: true },
                { id: 3, from: 'Pharmacy', to: 'You', message: 'Prescription ready for pickup - Bob Johnson', time: 'Yesterday', read: false }
            ],
            newMessage: '',
            alerts: [
                { id: 1, type: 'medication', message: 'Medication due for John Doe - Lisinopril 10mg', time: '2 hours ago', priority: 'high' },
                { id: 2, type: 'appointment', message: 'Upcoming appointment with Jane Smith at 3:00 PM', time: '30 mins', priority: 'medium' },
                { id: 3, type: 'interaction', message: 'Drug interaction warning: Warfarin + Aspirin', time: '1 hour ago', priority: 'high' }
            ]
        };
        /* ...all JS logic from your file... */
        render();
    </script>
</body>
</html>
